!function(e){"use strict";var n=function(e){var t=e,i=function(){return t};return{get:i,set:function(e){t=e},clone:function(){return n(i())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(e){return{isFullscreen:function(){return null!==e.get()}}},r=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),l=function(e,n){e.fire("FullscreenStateChanged",{state:n})},o=r.DOM,c=function(n,t){var i,r,c,s,u,d,a=e.document.body,h=e.document.documentElement,f=t.get(),m=function(){var n,t,i,l;o.setStyle(c,"height",(i=e.window,l=e.document.body,l.offsetWidth&&(n=l.offsetWidth,t=l.offsetHeight),i.innerWidth&&i.innerHeight&&(n=i.innerWidth,t=i.innerHeight),{w:n,h:t}).h-(r.clientHeight-c.clientHeight))},g=function(){o.unbind(e.window,"resize",m)};if(i=(r=n.getContainer()).style,s=(c=n.getContentAreaContainer().firstChild).style,f)s.width=f.iframeWidth,s.height=f.iframeHeight,f.containerWidth&&(i.width=f.containerWidth),f.containerHeight&&(i.height=f.containerHeight),o.removeClass(a,"mce-fullscreen"),o.removeClass(h,"mce-fullscreen"),o.removeClass(r,"mce-fullscreen"),u=f.scrollPos,e.window.scrollTo(u.x,u.y),o.unbind(e.window,"resize",f.resizeHandler),n.off("remove",f.removeHandler),t.set(null),l(n,!1);else{var w={scrollPos:(d=o.getViewPort(),{x:d.x,y:d.y}),containerWidth:i.width,containerHeight:i.height,iframeWidth:s.width,iframeHeight:s.height,resizeHandler:m,removeHandler:g};s.width=s.height="100%",i.width=i.height="",o.addClass(a,"mce-fullscreen"),o.addClass(h,"mce-fullscreen"),o.addClass(r,"mce-fullscreen"),o.bind(e.window,"resize",m),n.on("remove",g),m(),t.set(w),l(n,!0)}},s=function(e,n){e.addCommand("mceFullScreen",function(){c(e,n)})},u=function(e){return function(n){var t=n.control;e.on("FullscreenStateChanged",function(e){t.active(e.state)})}},d=function(e){e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:u(e),context:"view"}),e.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:u(e)})};t.add("fullscreen",function(e){var t=n(null);return e.settings.inline||(s(e,t),d(e),e.addShortcut("Ctrl+Shift+F","","mceFullScreen")),i(t)})}(window);